<p style="color: green"><%= notice %></p>

<h1>Reservation Details</h1>

<div>
  <p><strong>Reservation ID:</strong> <%= @reservation.id %></p>
  <p><strong>Reservation Date:</strong> <%= @reservation.created_at %></p>
</div>

<h2>Trip Information</h2>

<p>
  <strong>Schedule:</strong>
  <% if @reservation.trip.schedule.present? %>
    <%= @reservation.trip.schedule.strftime("%m/%d/%Y, %I:%M %p") %>
  <% else %>
    N/A
  <% end %>
</p>

<p>
  <strong>Origin:</strong>
  <%= @reservation.trip.origin %>
</p>

<p>
  <strong>Destination:</strong>
  <%= @reservation.trip.destination %>
</p>

<p>
  <strong>Number of passengers:</strong>
  <%= @reservation.trip.number_of_passengers %>
</p>

<p>
  <strong>Unit fare:</strong>
  <%= number_to_currency(@reservation.trip.unit_fare, unit: '') %>
</p>

<p>
  <strong>Total fare:</strong>
  <%= number_to_currency(@reservation.trip.total_fare, unit: '') %>
</p>

<p>
  <strong>Bus:</strong>
  <%= @reservation.trip.bus.bus_number %>
</p>

<h2>Bus Details</h2>
<table>
  <thead>
    <tr>
      <th>Bus Number</th>
      <th>Plate Number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><%= @reservation.trip.bus.bus_number %></td>
      <td><%= @reservation.trip.bus.plate_number %></td>
    </tr>
  </tbody>
</table>

<h2>Driver(s)</h2>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Contact Number</th>
    </tr>
  </thead>
  <tbody>
    <% @reservation.trip.bus.drivers.each do |driver| %>
      <tr>
        <td><%= driver.name %></td>
        <td><%= driver.contact_number %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<h2>Passengers</h2>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Contact Number</th>
      <th>Email</th>
    </tr>
  </thead>
  <tbody>
    <% @reservation.trip.passengers.each do |passenger| %>
      <tr>
        <td><%= passenger.name %></td>
        <td><%= passenger.contact_number %></td>
        <td><%= passenger.email_address %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div>
  <%= link_to "Edit", edit_reservation_path(@reservation) %>
  <%= button_to "Destroy", @reservation, method: :delete, data: { confirm: "Are you sure?" } %>
  <%= link_to "Back to Reservations", reservations_path %>
</div>
